/**
 * qr-canvas-js - Minimal, zero-dependency QR code generator for canvas
 * https://github.com/mttkllr/qr-canvas-js
 * @license MIT
 */
var QRCanvas=function(){"use strict";function r(r){for(var e=[],o=[],a=0;a<r.size;a++)e.push(r.modules[a].slice()),o.push(r.reserved[a].slice());return{size:r.size,modules:e,reserved:o}}function e(r,e,o,a,t){e<0||o<0||e>=r.size||o>=r.size||(r.modules[o][e]=!!a,!1!==t&&(r.reserved[o][e]=!0))}function o(r,o,a){for(var t=-1;t<=7;t++)for(var s=-1;s<=7;s++){var n=o+s,f=a+t;if(!(n<0||f<0||n>=r.size||f>=r.size))e(r,n,f,!(-1===s||-1===t||7===s||7===t)&&(0===s||0===t||6===s||6===t||s>=2&&s<=4&&t>=2&&t<=4))}}function a(r,o,a){for(var t=0;t<5;t++)for(var s=0;s<5;s++)e(r,o+s,a+t,0===s||0===t||4===s||4===t||2===s&&2===t)}function t(r,e){for(var o=0;o<r.size;o++)for(var a=0;a<r.size;a++)!r.reserved[o][a]&&s(e,a,o)&&(r.modules[o][a]=!r.modules[o][a])}function s(r,e,o){switch(r){case 0:return(e+o)%2==0;case 1:return o%2==0;case 2:return e%3==0;case 3:return(e+o)%3==0;case 4:return(Math.floor(o/2)+Math.floor(e/3))%2==0;case 5:return e*o%2+e*o%3==0;case 6:return(e*o%2+e*o%3)%2==0;case 7:return((e+o)%2+e*o%3)%2==0}return!1}function n(r,e){var o=8|e,a=o<<10|function(r,e,o){for(var a=r<<o,t=14;t>=o;t--)a&1<<t&&(a^=e<<t-o);return a&(1<<o)-1}(o,1335,10);a^=21522;for(var t=r.size,s=[[0,8],[1,8],[2,8],[3,8],[4,8],[5,8],[7,8],[8,8],[8,7],[8,5],[8,4],[8,3],[8,2],[8,1],[8,0]],n=[],f=t-1;f>=t-7;f--)n.push([8,f]);for(var u=t-8;u<t;u++)n.push([u,8]);for(var l=0;l<15;l++){var v=1==(a>>>14-l&1);r.modules[s[l][1]][s[l][0]]=v,r.reserved[s[l][1]][s[l][0]]=!0,r.modules[n[l][1]][n[l][0]]=v,r.reserved[n[l][1]][n[l][0]]=!0}}function f(r){for(var e=r.size,o=0,a=0;a<e;a++){for(var t=1,s=1;s<e;s++)r.modules[a][s]===r.modules[a][s-1]?t++:(t>=5&&(o+=3+t-5),t=1);t>=5&&(o+=3+t-5)}for(s=0;s<e;s++){for(t=1,a=1;a<e;a++)r.modules[a][s]===r.modules[a-1][s]?t++:(t>=5&&(o+=3+t-5),t=1);t>=5&&(o+=3+t-5)}for(a=0;a<e-1;a++)for(s=0;s<e-1;s++){var n=r.modules[a][s];n===r.modules[a][s+1]&&n===r.modules[a+1][s]&&n===r.modules[a+1][s+1]&&(o+=3)}var f=0;for(a=0;a<e;a++)for(s=0;s<e;s++)r.modules[a][s]&&f++;return o+=10*Math.floor(Math.abs(100*f/(e*e)-50)/5)}var u=[],l=new Array(256).fill(0);function v(r,e){return 0===r||0===e?0:u[l[r]+l[e]]}function i(r,e){return 0===e?1:0===r?0:u[l[r]*e%255]}function d(r,e,o){for(var a=o-1;a>=0;a--)r.push(e>>>a&1)}return function(){for(var r=1,e=0;e<255;e++)u[e]=r,256&(r<<=1)&&(r^=285);for(e=255;e<512;e++)u[e]=u[e-255];for(e=0;e<255;e++)l[u[e]]=e}(),{qrCanvas:function(s,u){var l,c=null!=(u=u||{}).margin?u.margin:4,h=u.dark||"#000",m=u.light||"#fff",p=function(s){for(var u=function(r){for(var e=[],o=0;o<r.length;o++){var a=r.charCodeAt(o);if(a>=55296&&a<=56319&&o+1<r.length){var t=r.charCodeAt(o+1);t>=56320&&t<=57343&&(a=65536+(a-55296<<10)+(t-56320),o++)}a<128?e.push(a):a<2048?(e.push(192|a>>6),e.push(128|63&a)):a<65536?(e.push(224|a>>12),e.push(128|a>>6&63),e.push(128|63&a)):(e.push(240|a>>18),e.push(128|a>>12&63),e.push(128|a>>6&63),e.push(128|63&a))}return e}(s),l=[{v:1,size:21,dataCodewords:19,dataBytesCapacity:17,eccCodewords:7},{v:2,size:25,dataCodewords:34,dataBytesCapacity:32,eccCodewords:10},{v:3,size:29,dataCodewords:55,dataBytesCapacity:53,eccCodewords:15},{v:4,size:33,dataCodewords:80,dataBytesCapacity:78,eccCodewords:20}],c=null,h=0;h<l.length;h++)if(u.length<=l[h].dataBytesCapacity){c=l[h];break}if(!c)throw new Error("Input too long (max ~78 bytes)");var m=[];d(m,4,4),d(m,u.length,8);for(h=0;h<u.length;h++)d(m,u[h],8);var p=8*c.dataCodewords-m.length;p>0&&d(m,0,Math.min(4,p));for(;m.length%8!=0;)m.push(0);var g=[];for(h=0;h<m.length;h+=8){for(var w=0,z=0;z<8;z++)w=w<<1|m[h+z];g.push(w)}var C=[236,17],y=0;for(;g.length<c.dataCodewords;)g.push(C[1&y++]);var M=function(r,e){for(var o=[1],a=0;a<e;a++){for(var t=new Array(o.length+1).fill(0),s=0;s<o.length;s++)t[s]^=o[s],t[s+1]^=v(o[s],i(2,a));o=t}var n=r.concat(new Array(e).fill(0));for(a=0;a<r.length;a++){var f=n[a];if(0!==f)for(s=0;s<o.length;s++)n[a+s]^=v(o[s],f)}return n.slice(n.length-e)}(g,c.eccCodewords),A=g.concat(M),B=function(r){for(var e=[],o=[],a=0;a<r;a++)e.push(new Array(r).fill(!1)),o.push(new Array(r).fill(!1));return{size:r,modules:e,reserved:o}}(c.size);(function(r,t){var s=r.size;o(r,0,0),o(r,s-7,0),o(r,0,s-7);for(var n=8;n<s-8;n++)e(r,n,6,n%2==0),e(r,6,n,n%2==0);e(r,8,4*t+9,!0);for(n=0;n<9;n++)6!==n&&(r.reserved[8][n]=!0,r.reserved[n][8]=!0);for(n=0;n<8;n++)r.reserved[n][s-8]=!0,r.reserved[s-8][n]=!0;for(var f=s-8;f<s;f++)r.reserved[8][f]=!0;for(var u=s-7;u<s;u++)r.reserved[u][8]=!0;var l=1===t?[]:2===t?[6,18]:3===t?[6,22]:[6,26];for(n=0;n<l.length;n++)for(var v=0;v<l.length;v++){var i=l[n],d=l[v];d<=8&&i<=8||d>=s-9&&i<=8||d<=8&&i>=s-9||a(r,d-2,i-2)}})(B,c.v),function(r,e){var o=r.size,a=0,t=o-1,s=o-1,n=-1;for(;t>0;){6===t&&t--;for(var f=0;f<o;f++)for(var u=s+n*f,l=t;l>=t-1;l--)if(!r.reserved[u][l]){var v=Math.floor(a/8),i=7-a%8;r.modules[u][l]=v<e.length&&1==(e[v]>>>i&1),a++}s+=n*(o-1),n*=-1,t-=2}}(B,A);for(var b=1/0,R=null,k=0;k<8;k++){var x=r(B);t(x,k),n(x,k);var E=f(x);E<b&&(b=E,R=x)}return{size:c.size,modules:R.modules}}(s),g=p.size,w=null!=u.scale?u.scale:6;u.width?w=(l=u.width)/(g+2*c):l=(g+2*c)*w;var z=document.createElement("canvas");z.width=l,z.height=l;var C=z.getContext("2d");C.fillStyle=m,C.fillRect(0,0,l,l),C.fillStyle=h;for(var y=0;y<g;y++)for(var M=0;M<g;M++)if(p.modules[y][M]){var A=Math.floor((M+c)*w),B=Math.floor((y+c)*w),b=Math.floor((M+c+1)*w),R=Math.floor((y+c+1)*w);C.fillRect(A,B,b-A,R-B)}return z}}}();